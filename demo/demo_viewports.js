(()=>{"use strict";var __webpack_modules__={230:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// NAMESPACE OBJECT: ./esm/index.js\nvar esm_namespaceObject = {};\n__webpack_require__.r(esm_namespaceObject);\n__webpack_require__.d(esm_namespaceObject, {\n  "q": () => (DragWatcher)\n});\n\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(75);\n// EXTERNAL MODULE: ./node_modules/@masatomakino/raf-ticker/esm/index.js + 2 modules\nvar esm = __webpack_require__(163);\n;// CONCATENATED MODULE: ./esm/DragWatcher.js\n\n\n/**\n * 1.カンバス全体がドラッグされている状態を確認する\n * 2.マウスホイールが操作されている状態を確認する\n * この二つを実行するためのクラスです。\n */\nclass DragWatcher extends three_module/* EventDispatcher */.pBf {\n  constructor(canvas, option) {\n    var _a, _b;\n    super();\n    this.isDrag = false;\n    this.hasThrottled = false;\n    this.throttlingTime_ms = 16;\n    this.throttlingDelta = 0;\n    this.onTick = e => {\n      this.throttlingDelta += e.delta;\n      if (this.throttlingDelta < this.throttlingTime_ms) return;\n      this.hasThrottled = false;\n      this.throttlingDelta %= this.throttlingTime_ms;\n    };\n    this.onDocumentMouseDown = event => {\n      if (this.isDrag) return;\n      if (!this.isContain(event)) return;\n      this.isDrag = true;\n      this.updatePosition(event);\n      this.dispatchDragEvent("drag_start", event);\n    };\n    this.onDocumentMouseMove = event => {\n      if (this.hasThrottled) return;\n      this.hasThrottled = true;\n      this.dispatchDragEvent("move", event);\n      if (!this.isDrag) return;\n      this.dispatchDragEvent("drag", event);\n      this.updatePosition(event);\n    };\n    this.onDocumentMouseLeave = event => {\n      this.onDocumentMouseUp(event);\n    };\n    this.onDocumentMouseUp = event => {\n      if (!this.isDrag) return;\n      this.isDrag = false;\n      this.dispatchDragEvent("drag_end", event);\n    };\n    this.onMouseWheel = e => {\n      const evt = {\n        type: "zoom"\n      };\n      if (e.detail != null) {\n        evt.deltaScroll = e.detail < 0 ? 1 : -1;\n      }\n      if (e.wheelDelta != null) {\n        evt.deltaScroll = e.wheelDelta > 0 ? 1 : -1;\n      }\n      if (e.deltaY != null) {\n        evt.deltaScroll = e.deltaY > 0 ? 1 : -1;\n      }\n      this.dispatchEvent(evt);\n    };\n    (_a = this.throttlingTime_ms) !== null && _a !== void 0 ? _a : this.throttlingTime_ms = option === null || option === void 0 ? void 0 : option.throttlingTime_ms;\n    (_b = this.viewport) !== null && _b !== void 0 ? _b : this.viewport = option === null || option === void 0 ? void 0 : option.viewport;\n    this.canvas = canvas;\n    this.canvas.addEventListener("mousemove", this.onDocumentMouseMove, false);\n    this.canvas.addEventListener("mousedown", this.onDocumentMouseDown, false);\n    this.canvas.addEventListener("mouseup", this.onDocumentMouseUp, false);\n    this.canvas.addEventListener("mouseleave", this.onDocumentMouseLeave, false);\n    this.canvas.addEventListener("wheel", this.onMouseWheel, false);\n    esm/* RAFTicker.on */.F.on("tick", this.onTick);\n  }\n  updatePosition(event) {\n    this.positionX = event.offsetX;\n    this.positionY = event.offsetY;\n  }\n  dispatchDragEvent(type, event) {\n    const evt = {\n      type\n    };\n    const {\n      x,\n      y\n    } = this.convertToLocalMousePoint(event);\n    evt.positionX = x;\n    evt.positionY = y;\n    if (type === "drag") {\n      evt.deltaX = event.offsetX - this.positionX;\n      evt.deltaY = event.offsetY - this.positionY;\n    }\n    this.dispatchEvent(evt);\n  }\n  convertToLocalMousePoint(e) {\n    if (!this.viewport) {\n      return {\n        x: e.offsetX,\n        y: e.offsetY\n      };\n    } else {\n      const rect = DragWatcher.convertToRect(this.canvas, this.viewport);\n      return {\n        x: e.offsetX - rect.x1,\n        y: e.offsetY - rect.y1\n      };\n    }\n  }\n  /**\n   * マウスポインタがviewport内に収まっているか否か\n   * @param event\n   * @private\n   */\n  isContain(event) {\n    if (!this.viewport) return true;\n    const rect = DragWatcher.convertToRect(this.canvas, this.viewport);\n    return event.offsetX >= rect.x1 && event.offsetX <= rect.x2 && event.offsetY >= rect.y1 && event.offsetY <= rect.y2;\n  }\n  static convertToRect(canvas, viewport) {\n    let height = 0;\n    if (canvas.style.width != null && canvas.style.height) {\n      height = parseInt(canvas.style.height);\n    } else {\n      height = canvas.height / window.devicePixelRatio;\n    }\n    return {\n      x1: viewport.x,\n      x2: viewport.x + viewport.width,\n      y1: height - (viewport.y + viewport.height),\n      y2: height - viewport.y\n    };\n  }\n  dispose() {\n    this.canvas.removeEventListener("mousemove", this.onDocumentMouseMove, false);\n    this.canvas.removeEventListener("mousedown", this.onDocumentMouseDown, false);\n    this.canvas.removeEventListener("mouseup", this.onDocumentMouseUp, false);\n    this.canvas.removeEventListener("mouseleave", this.onDocumentMouseLeave, false);\n    esm/* RAFTicker.off */.F.off("tick", this.onTick);\n  }\n}\n;// CONCATENATED MODULE: ./esm/index.js\n\n\n\n\n;// CONCATENATED MODULE: ./demoSrc/demo_viewports.js\n\n\n\nconst W = 1280;\nconst H = 640;\nconst onDomContentsLoaded = () => {\n  const canvas = document.getElementById("webgl-canvas");\n  const renderOption = {\n    canvas\n  };\n  const renderer = new three_module/* WebGLRenderer */.CP7(renderOption);\n  renderer.autoClear = false;\n  renderer.setSize(W, H);\n  renderer.setPixelRatio(window.devicePixelRatio);\n  const box = new three_module/* Mesh */.Kj0(new three_module/* TorusKnotGeometry */.FE5(10, 3, 100, 16), new three_module/* MeshPhongMaterial */.xoR({\n    color: 0xff0000,\n    specular: 0xffffff,\n    shininess: 30\n  }));\n  const tri = new three_module/* Mesh */.Kj0(new three_module/* TorusKnotGeometry */.FE5(10, 3, 100, 16), new three_module/* MeshPhongMaterial */.xoR({\n    color: 0x0000ff,\n    specular: 0xffffff,\n    shininess: 30\n  }));\n  const scene1 = new SceneSet(renderer, 20, 20, 400, 300, box, 0x222222);\n  const scene2 = new SceneSet(renderer, 480, 360, 120, 60, tri, 0x444444);\n  const render = () => {\n    renderer.setClearColor(0x000000);\n    renderer.clear();\n    scene1.render(renderer);\n    scene2.render(renderer);\n    requestAnimationFrame(render);\n  };\n  render();\n};\n\n/**\n * DOMContentLoaded以降に初期化処理を実行する\n */\nwindow.onload = onDomContentsLoaded;\nclass SceneSet {\n  scene;\n  camera;\n  bgColor;\n  viewPort;\n  mesh;\n  dragManager;\n  constructor(renderer, x, y, width, height, mesh, bgColor) {\n    this.viewPort = new three_module/* Vector4 */.Ltg(x, y, width, height);\n    this.mesh = mesh;\n    this.scene = new three_module/* Scene */.xsS();\n    this.camera = new three_module/* PerspectiveCamera */.cPb(45, width / height, 1, 10000);\n    this.camera.position.set(0, 0, 64);\n    this.scene.add(this.camera);\n    this.scene.add(mesh);\n    this.bgColor = bgColor;\n\n    //光源オブジェクト(light)の設定\n    const ambientLight = new three_module/* AmbientLight */.Mig(0x111111, 1);\n    this.scene.add(ambientLight);\n    const spot = new three_module/* SpotLight */.PMe(0x888888, 1);\n    spot.position.set(8, 6, -2);\n    this.scene.add(spot);\n    const spot2 = new three_module/* SpotLight */.PMe(0x888888, 1);\n    spot2.position.set(-8, -6, 2);\n    this.scene.add(spot2);\n    this.dragManager = new DragWatcher(renderer.domElement, {\n      viewport: this.viewPort\n    });\n    this.dragManager.addEventListener(esm_namespaceObject.DragEventType.DRAG, e => {\n      console.log(this.bgColor, `throttlingTime_ms : ${this.dragManager.throttlingTime_ms}`, `TimeStamp : ${performance.now()}`, e);\n    });\n    this.dragManager.addEventListener(esm_namespaceObject.DragEventType.DRAG_START, e => {\n      console.log(e);\n    });\n    this.dragManager.addEventListener(esm_namespaceObject.DragEventType.DRAG_END, e => {\n      console.log(e);\n    });\n    this.dragManager.addEventListener(esm_namespaceObject.DragEventType.ZOOM, e => {\n      console.log(e);\n    });\n  }\n  render(renderer) {\n    this.mesh.rotation.x += 0.001;\n    this.mesh.rotation.y += 0.001;\n    renderer.setClearColor(this.bgColor);\n    renderer.clearDepth(); // important!\n    renderer.setScissorTest(true);\n    renderer.setScissor(this.viewPort);\n    renderer.setViewport(this.viewPort);\n    renderer.clear();\n    renderer.render(this.scene, this.camera);\n    renderer.setScissorTest(false);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGdCQUFnQixDQUFDMEIsMENBQXNCLEVBQUc3QyxDQUFDLElBQUs7TUFDL0Q0RixPQUFPLENBQUNDLEdBQUcsQ0FBQzdGLENBQUMsQ0FBQztJQUNoQixDQUFDLENBQUM7SUFDRixJQUFJLENBQUM4RSxXQUFXLENBQUMzRCxnQkFBZ0IsQ0FBQzBCLHNDQUFrQixFQUFHN0MsQ0FBQyxJQUFLO01BQzNENEYsT0FBTyxDQUFDQyxHQUFHLENBQUM3RixDQUFDLENBQUM7SUFDaEIsQ0FBQyxDQUFDO0VBQ0o7RUFFQW9FLE1BQU1BLENBQUNiLFFBQVEsRUFBRTtJQUNmLElBQUksQ0FBQ3NCLElBQUksQ0FBQ3NCLFFBQVEsQ0FBQzFFLENBQUMsSUFBSSxLQUFLO0lBQzdCLElBQUksQ0FBQ29ELElBQUksQ0FBQ3NCLFFBQVEsQ0FBQ3pFLENBQUMsSUFBSSxLQUFLO0lBQzdCNkIsUUFBUSxDQUFDYyxhQUFhLENBQUMsSUFBSSxDQUFDTSxPQUFPLENBQUM7SUFDcENwQixRQUFRLENBQUM2QyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZCN0MsUUFBUSxDQUFDOEMsY0FBYyxDQUFDLElBQUksQ0FBQztJQUU3QjlDLFFBQVEsQ0FBQytDLFVBQVUsQ0FBQyxJQUFJLENBQUMxQixRQUFRLENBQUM7SUFDbENyQixRQUFRLENBQUNnRCxXQUFXLENBQUMsSUFBSSxDQUFDM0IsUUFBUSxDQUFDO0lBQ25DckIsUUFBUSxDQUFDZSxLQUFLLEVBQUU7SUFFaEJmLFFBQVEsQ0FBQ2EsTUFBTSxDQUFDLElBQUksQ0FBQ0ssS0FBSyxFQUFFLElBQUksQ0FBQ0MsTUFBTSxDQUFDO0lBQ3hDbkIsUUFBUSxDQUFDOEMsY0FBYyxDQUFDLEtBQUssQ0FBQztFQUNoQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWRyYWctd2F0Y2hlci8uL2VzbS9EcmFnV2F0Y2hlci5qcz9kNGI5Iiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1kcmFnLXdhdGNoZXIvLi9lc20vaW5kZXguanM/YjIzOSIsIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtZHJhZy13YXRjaGVyLy4vZGVtb1NyYy9kZW1vX3ZpZXdwb3J0cy5qcz82YjBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJBRlRpY2tlciB9IGZyb20gXCJAbWFzYXRvbWFraW5vL3JhZi10aWNrZXJcIjtcbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCJ0aHJlZVwiO1xuLyoqXG4gKiAxLuOCq+ODs+ODkOOCueWFqOS9k+OBjOODieODqeODg+OCsOOBleOCjOOBpuOBhOOCi+eKtuaFi+OCkueiuuiqjeOBmeOCi1xuICogMi7jg57jgqbjgrnjg5vjgqTjg7zjg6vjgYzmk43kvZzjgZXjgozjgabjgYTjgovnirbmhYvjgpLnorroqo3jgZnjgotcbiAqIOOBk+OBruS6jOOBpOOCkuWun+ihjOOBmeOCi+OBn+OCgeOBruOCr+ODqeOCueOBp+OBmeOAglxuICovXG5leHBvcnQgY2xhc3MgRHJhZ1dhdGNoZXIgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgb3B0aW9uKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNEcmFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzVGhyb3R0bGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGhyb3R0bGluZ1RpbWVfbXMgPSAxNjtcbiAgICAgICAgdGhpcy50aHJvdHRsaW5nRGVsdGEgPSAwO1xuICAgICAgICB0aGlzLm9uVGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRocm90dGxpbmdEZWx0YSArPSBlLmRlbHRhO1xuICAgICAgICAgICAgaWYgKHRoaXMudGhyb3R0bGluZ0RlbHRhIDwgdGhpcy50aHJvdHRsaW5nVGltZV9tcylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmhhc1Rocm90dGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50aHJvdHRsaW5nRGVsdGEgJT0gdGhpcy50aHJvdHRsaW5nVGltZV9tcztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbkRvY3VtZW50TW91c2VEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0RyYWcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzQ29udGFpbihldmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc0RyYWcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbihldmVudCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRHJhZ0V2ZW50KFwiZHJhZ19zdGFydFwiLCBldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Eb2N1bWVudE1vdXNlTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVGhyb3R0bGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaGFzVGhyb3R0bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hEcmFnRXZlbnQoXCJtb3ZlXCIsIGV2ZW50KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0RyYWcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaERyYWdFdmVudChcImRyYWdcIiwgZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbihldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Eb2N1bWVudE1vdXNlTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Eb2N1bWVudE1vdXNlVXAoZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uRG9jdW1lbnRNb3VzZVVwID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNEcmFnKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRHJhZ0V2ZW50KFwiZHJhZ19lbmRcIiwgZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTW91c2VXaGVlbCA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBldnQgPSB7IHR5cGU6IFwiem9vbVwiIH07XG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGV2dC5kZWx0YVNjcm9sbCA9IGUuZGV0YWlsIDwgMCA/IDEgOiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLndoZWVsRGVsdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGV2dC5kZWx0YVNjcm9sbCA9IGUud2hlZWxEZWx0YSA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZS5kZWx0YVkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGV2dC5kZWx0YVNjcm9sbCA9IGUuZGVsdGFZID4gMCA/IDEgOiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgICB9O1xuICAgICAgICAoX2EgPSB0aGlzLnRocm90dGxpbmdUaW1lX21zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAodGhpcy50aHJvdHRsaW5nVGltZV9tcyA9IG9wdGlvbiA9PT0gbnVsbCB8fCBvcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbi50aHJvdHRsaW5nVGltZV9tcyk7XG4gICAgICAgIChfYiA9IHRoaXMudmlld3BvcnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICh0aGlzLnZpZXdwb3J0ID0gb3B0aW9uID09PSBudWxsIHx8IG9wdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9uLnZpZXdwb3J0KTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbkRvY3VtZW50TW91c2VNb3ZlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5vbkRvY3VtZW50TW91c2VEb3duLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMub25Eb2N1bWVudE1vdXNlVXAsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbkRvY3VtZW50TW91c2VMZWF2ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5vbk1vdXNlV2hlZWwsIGZhbHNlKTtcbiAgICAgICAgUkFGVGlja2VyLm9uKFwidGlja1wiLCB0aGlzLm9uVGljayk7XG4gICAgfVxuICAgIHVwZGF0ZVBvc2l0aW9uKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb25YID0gZXZlbnQub2Zmc2V0WDtcbiAgICAgICAgdGhpcy5wb3NpdGlvblkgPSBldmVudC5vZmZzZXRZO1xuICAgIH1cbiAgICBkaXNwYXRjaERyYWdFdmVudCh0eXBlLCBldmVudCkge1xuICAgICAgICBjb25zdCBldnQgPSB7IHR5cGUgfTtcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmNvbnZlcnRUb0xvY2FsTW91c2VQb2ludChldmVudCk7XG4gICAgICAgIGV2dC5wb3NpdGlvblggPSB4O1xuICAgICAgICBldnQucG9zaXRpb25ZID0geTtcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiZHJhZ1wiKSB7XG4gICAgICAgICAgICBldnQuZGVsdGFYID0gZXZlbnQub2Zmc2V0WCAtIHRoaXMucG9zaXRpb25YO1xuICAgICAgICAgICAgZXZ0LmRlbHRhWSA9IGV2ZW50Lm9mZnNldFkgLSB0aGlzLnBvc2l0aW9uWTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG4gICAgY29udmVydFRvTG9jYWxNb3VzZVBvaW50KGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZXdwb3J0KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IGUub2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiBlLm9mZnNldFksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IERyYWdXYXRjaGVyLmNvbnZlcnRUb1JlY3QodGhpcy5jYW52YXMsIHRoaXMudmlld3BvcnQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBlLm9mZnNldFggLSByZWN0LngxLFxuICAgICAgICAgICAgICAgIHk6IGUub2Zmc2V0WSAtIHJlY3QueTEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOODnuOCpuOCueODneOCpOODs+OCv+OBjHZpZXdwb3J05YaF44Gr5Y+O44G+44Gj44Gm44GE44KL44GL5ZCm44GLXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBpc0NvbnRhaW4oZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZXdwb3J0KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBEcmFnV2F0Y2hlci5jb252ZXJ0VG9SZWN0KHRoaXMuY2FudmFzLCB0aGlzLnZpZXdwb3J0KTtcbiAgICAgICAgcmV0dXJuIChldmVudC5vZmZzZXRYID49IHJlY3QueDEgJiZcbiAgICAgICAgICAgIGV2ZW50Lm9mZnNldFggPD0gcmVjdC54MiAmJlxuICAgICAgICAgICAgZXZlbnQub2Zmc2V0WSA+PSByZWN0LnkxICYmXG4gICAgICAgICAgICBldmVudC5vZmZzZXRZIDw9IHJlY3QueTIpO1xuICAgIH1cbiAgICBzdGF0aWMgY29udmVydFRvUmVjdChjYW52YXMsIHZpZXdwb3J0KSB7XG4gICAgICAgIGxldCBoZWlnaHQgPSAwO1xuICAgICAgICBpZiAoY2FudmFzLnN0eWxlLndpZHRoICE9IG51bGwgJiYgY2FudmFzLnN0eWxlLmhlaWdodCkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gcGFyc2VJbnQoY2FudmFzLnN0eWxlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHgxOiB2aWV3cG9ydC54LFxuICAgICAgICAgICAgeDI6IHZpZXdwb3J0LnggKyB2aWV3cG9ydC53aWR0aCxcbiAgICAgICAgICAgIHkxOiBoZWlnaHQgLSAodmlld3BvcnQueSArIHZpZXdwb3J0LmhlaWdodCksXG4gICAgICAgICAgICB5MjogaGVpZ2h0IC0gdmlld3BvcnQueSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbkRvY3VtZW50TW91c2VVcCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZUxlYXZlLCBmYWxzZSk7XG4gICAgICAgIFJBRlRpY2tlci5vZmYoXCJ0aWNrXCIsIHRoaXMub25UaWNrKTtcbiAgICB9XG59XG4iLCJleHBvcnQgKiBmcm9tIFwiLi9EcmFnRXZlbnRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0RyYWdXYXRjaGVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9TbGVlcEV2ZW50XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9TbGVlcFdhdGNoZXJcIjtcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgRHJhZ0V2ZW50VHlwZSwgRHJhZ1dhdGNoZXIgfSBmcm9tIFwiLi4vXCI7XG5pbXBvcnQgeyBUb3J1c0tub3RHZW9tZXRyeSwgTWVzaCwgTWVzaFBob25nTWF0ZXJpYWwgfSBmcm9tIFwidGhyZWVcIjtcblxuY29uc3QgVyA9IDEyODA7XG5jb25zdCBIID0gNjQwO1xuXG5jb25zdCBvbkRvbUNvbnRlbnRzTG9hZGVkID0gKCkgPT4ge1xuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndlYmdsLWNhbnZhc1wiKTtcbiAgY29uc3QgcmVuZGVyT3B0aW9uID0ge1xuICAgIGNhbnZhcyxcbiAgfTtcbiAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcihyZW5kZXJPcHRpb24pO1xuICByZW5kZXJlci5hdXRvQ2xlYXIgPSBmYWxzZTtcbiAgcmVuZGVyZXIuc2V0U2l6ZShXLCBIKTtcbiAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG5cbiAgY29uc3QgYm94ID0gbmV3IE1lc2goXG4gICAgbmV3IFRvcnVzS25vdEdlb21ldHJ5KDEwLCAzLCAxMDAsIDE2KSxcbiAgICBuZXcgTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IDB4ZmYwMDAwLFxuICAgICAgc3BlY3VsYXI6IDB4ZmZmZmZmLFxuICAgICAgc2hpbmluZXNzOiAzMCxcbiAgICB9KVxuICApO1xuICBjb25zdCB0cmkgPSBuZXcgTWVzaChcbiAgICBuZXcgVG9ydXNLbm90R2VvbWV0cnkoMTAsIDMsIDEwMCwgMTYpLFxuICAgIG5ldyBNZXNoUGhvbmdNYXRlcmlhbCh7XG4gICAgICBjb2xvcjogMHgwMDAwZmYsXG4gICAgICBzcGVjdWxhcjogMHhmZmZmZmYsXG4gICAgICBzaGluaW5lc3M6IDMwLFxuICAgIH0pXG4gICk7XG4gIGNvbnN0IHNjZW5lMSA9IG5ldyBTY2VuZVNldChyZW5kZXJlciwgMjAsIDIwLCA0MDAsIDMwMCwgYm94LCAweDIyMjIyMik7XG4gIGNvbnN0IHNjZW5lMiA9IG5ldyBTY2VuZVNldChyZW5kZXJlciwgNDgwLCAzNjAsIDEyMCwgNjAsIHRyaSwgMHg0NDQ0NDQpO1xuXG4gIGNvbnN0IHJlbmRlciA9ICgpID0+IHtcbiAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4MDAwMDAwKTtcbiAgICByZW5kZXJlci5jbGVhcigpO1xuXG4gICAgc2NlbmUxLnJlbmRlcihyZW5kZXJlcik7XG4gICAgc2NlbmUyLnJlbmRlcihyZW5kZXJlcik7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gIH07XG4gIHJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBET01Db250ZW50TG9hZGVk5Lul6ZmN44Gr5Yid5pyf5YyW5Yem55CG44KS5a6f6KGM44GZ44KLXG4gKi9cbndpbmRvdy5vbmxvYWQgPSBvbkRvbUNvbnRlbnRzTG9hZGVkO1xuXG5jbGFzcyBTY2VuZVNldCB7XG4gIHNjZW5lO1xuICBjYW1lcmE7XG4gIGJnQ29sb3I7XG4gIHZpZXdQb3J0O1xuICBtZXNoO1xuXG4gIGRyYWdNYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBtZXNoLCBiZ0NvbG9yKSB7XG4gICAgdGhpcy52aWV3UG9ydCA9IG5ldyBUSFJFRS5WZWN0b3I0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMubWVzaCA9IG1lc2g7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpZHRoIC8gaGVpZ2h0LCAxLCAxMDAwMCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDY0KTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmNhbWVyYSk7XG4gICAgdGhpcy5zY2VuZS5hZGQobWVzaCk7XG4gICAgdGhpcy5iZ0NvbG9yID0gYmdDb2xvcjtcblxuICAgIC8v5YWJ5rqQ44Kq44OW44K444Kn44Kv44OIKGxpZ2h0KeOBruioreWumlxuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHgxMTExMTEsIDEpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XG5cbiAgICBjb25zdCBzcG90ID0gbmV3IFRIUkVFLlNwb3RMaWdodCgweDg4ODg4OCwgMSk7XG4gICAgc3BvdC5wb3NpdGlvbi5zZXQoOCwgNiwgLTIpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHNwb3QpO1xuXG4gICAgY29uc3Qgc3BvdDIgPSBuZXcgVEhSRUUuU3BvdExpZ2h0KDB4ODg4ODg4LCAxKTtcbiAgICBzcG90Mi5wb3NpdGlvbi5zZXQoLTgsIC02LCAyKTtcbiAgICB0aGlzLnNjZW5lLmFkZChzcG90Mik7XG5cbiAgICB0aGlzLmRyYWdNYW5hZ2VyID0gbmV3IERyYWdXYXRjaGVyKHJlbmRlcmVyLmRvbUVsZW1lbnQsIHsgdmlld3BvcnQ6IHRoaXMudmlld1BvcnQgfSk7XG4gICAgdGhpcy5kcmFnTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKERyYWdFdmVudFR5cGUuRFJBRywgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICB0aGlzLmJnQ29sb3IsXG4gICAgICAgIGB0aHJvdHRsaW5nVGltZV9tcyA6ICR7dGhpcy5kcmFnTWFuYWdlci50aHJvdHRsaW5nVGltZV9tc31gLFxuICAgICAgICBgVGltZVN0YW1wIDogJHtwZXJmb3JtYW5jZS5ub3coKX1gLFxuICAgICAgICBlXG4gICAgICApO1xuICAgIH0pO1xuICAgIHRoaXMuZHJhZ01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihEcmFnRXZlbnRUeXBlLkRSQUdfU1RBUlQsIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLmRyYWdNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoRHJhZ0V2ZW50VHlwZS5EUkFHX0VORCwgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuZHJhZ01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihEcmFnRXZlbnRUeXBlLlpPT00sIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcihyZW5kZXJlcikge1xuICAgIHRoaXMubWVzaC5yb3RhdGlvbi54ICs9IDAuMDAxO1xuICAgIHRoaXMubWVzaC5yb3RhdGlvbi55ICs9IDAuMDAxO1xuICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5iZ0NvbG9yKTtcbiAgICByZW5kZXJlci5jbGVhckRlcHRoKCk7IC8vIGltcG9ydGFudCFcbiAgICByZW5kZXJlci5zZXRTY2lzc29yVGVzdCh0cnVlKTtcblxuICAgIHJlbmRlcmVyLnNldFNjaXNzb3IodGhpcy52aWV3UG9ydCk7XG4gICAgcmVuZGVyZXIuc2V0Vmlld3BvcnQodGhpcy52aWV3UG9ydCk7XG4gICAgcmVuZGVyZXIuY2xlYXIoKTtcblxuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgcmVuZGVyZXIuc2V0U2Npc3NvclRlc3QoZmFsc2UpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUkFGVGlja2VyIiwiRXZlbnREaXNwYXRjaGVyIiwiRHJhZ1dhdGNoZXIiLCJjb25zdHJ1Y3RvciIsImNhbnZhcyIsIm9wdGlvbiIsIl9hIiwiX2IiLCJpc0RyYWciLCJoYXNUaHJvdHRsZWQiLCJ0aHJvdHRsaW5nVGltZV9tcyIsInRocm90dGxpbmdEZWx0YSIsIm9uVGljayIsImUiLCJkZWx0YSIsIm9uRG9jdW1lbnRNb3VzZURvd24iLCJldmVudCIsImlzQ29udGFpbiIsInVwZGF0ZVBvc2l0aW9uIiwiZGlzcGF0Y2hEcmFnRXZlbnQiLCJvbkRvY3VtZW50TW91c2VNb3ZlIiwib25Eb2N1bWVudE1vdXNlTGVhdmUiLCJvbkRvY3VtZW50TW91c2VVcCIsIm9uTW91c2VXaGVlbCIsImV2dCIsInR5cGUiLCJkZXRhaWwiLCJkZWx0YVNjcm9sbCIsIndoZWVsRGVsdGEiLCJkZWx0YVkiLCJkaXNwYXRjaEV2ZW50Iiwidmlld3BvcnQiLCJhZGRFdmVudExpc3RlbmVyIiwib24iLCJwb3NpdGlvblgiLCJvZmZzZXRYIiwicG9zaXRpb25ZIiwib2Zmc2V0WSIsIngiLCJ5IiwiY29udmVydFRvTG9jYWxNb3VzZVBvaW50IiwiZGVsdGFYIiwicmVjdCIsImNvbnZlcnRUb1JlY3QiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImhlaWdodCIsInN0eWxlIiwid2lkdGgiLCJwYXJzZUludCIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJkaXNwb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9mZiIsIlRIUkVFIiwiRHJhZ0V2ZW50VHlwZSIsIlRvcnVzS25vdEdlb21ldHJ5IiwiTWVzaCIsIk1lc2hQaG9uZ01hdGVyaWFsIiwiVyIsIkgiLCJvbkRvbUNvbnRlbnRzTG9hZGVkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlck9wdGlvbiIsInJlbmRlcmVyIiwiV2ViR0xSZW5kZXJlciIsImF1dG9DbGVhciIsInNldFNpemUiLCJzZXRQaXhlbFJhdGlvIiwiYm94IiwiY29sb3IiLCJzcGVjdWxhciIsInNoaW5pbmVzcyIsInRyaSIsInNjZW5lMSIsIlNjZW5lU2V0Iiwic2NlbmUyIiwicmVuZGVyIiwic2V0Q2xlYXJDb2xvciIsImNsZWFyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib25sb2FkIiwic2NlbmUiLCJjYW1lcmEiLCJiZ0NvbG9yIiwidmlld1BvcnQiLCJtZXNoIiwiZHJhZ01hbmFnZXIiLCJWZWN0b3I0IiwiU2NlbmUiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsInBvc2l0aW9uIiwic2V0IiwiYWRkIiwiYW1iaWVudExpZ2h0IiwiQW1iaWVudExpZ2h0Iiwic3BvdCIsIlNwb3RMaWdodCIsInNwb3QyIiwiZG9tRWxlbWVudCIsIkRSQUciLCJjb25zb2xlIiwibG9nIiwicGVyZm9ybWFuY2UiLCJub3ciLCJEUkFHX1NUQVJUIiwiRFJBR19FTkQiLCJaT09NIiwicm90YXRpb24iLCJjbGVhckRlcHRoIiwic2V0U2Npc3NvclRlc3QiLCJzZXRTY2lzc29yIiwic2V0Vmlld3BvcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///230\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](F,F.exports,__webpack_require__),F.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,U,F,B)=>{if(!U){var s=1/0;for(g=0;g<deferred.length;g++){for(var[U,F,B]=deferred[g],I=!0,e=0;e<U.length;e++)(!1&B||s>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](U[e])))?U.splice(e--,1):(I=!1,B<s&&(s=B));if(I){deferred.splice(g--,1);var C=F();void 0!==C&&(Q=C)}}return Q}B=B||0;for(var g=deferred.length;g>0&&deferred[g-1][2]>B;g--)deferred[g]=deferred[g-1];deferred[g]=[U,F,B]},__webpack_require__.n=Q=>{var U=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(U,{a:U}),U},__webpack_require__.d=(Q,U)=>{for(var F in U)__webpack_require__.o(U,F)&&!__webpack_require__.o(Q,F)&&Object.defineProperty(Q,F,{enumerable:!0,get:U[F]})},__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__.j=212,(()=>{var Q={212:0};__webpack_require__.O.j=U=>0===Q[U];var U=(U,F)=>{var B,s,[I,e,C]=F,g=0;if(I.some((U=>0!==Q[U]))){for(B in e)__webpack_require__.o(e,B)&&(__webpack_require__.m[B]=e[B]);if(C)var n=C(__webpack_require__)}for(U&&U(F);g<I.length;g++)s=I[g],__webpack_require__.o(Q,s)&&Q[s]&&Q[s][0](),Q[s]=0;return __webpack_require__.O(n)},F=self.webpackChunk_masatomakino_threejs_drag_watcher=self.webpackChunk_masatomakino_threejs_drag_watcher||[];F.forEach(U.bind(null,0)),F.push=U.bind(null,F.push.bind(F))})();var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(230)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();