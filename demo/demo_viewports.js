(()=>{"use strict";var __webpack_modules__={230:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(75);\n// EXTERNAL MODULE: ./node_modules/@masatomakino/raf-ticker/esm/index.js + 3 modules\nvar esm = __webpack_require__(571);\n;// CONCATENATED MODULE: ./esm/DragWatcher.js\n\n\n/**\n * 1.カンバス全体がドラッグされている状態を確認する\n * 2.マウスホイールが操作されている状態を確認する\n * この二つを実行するためのクラスです。\n */\nclass DragWatcher extends three_module/* EventDispatcher */.pBf {\n  constructor(canvas, option) {\n    var _a, _b;\n    super();\n    this.isDrag = false;\n    this.hasThrottled = false;\n    this.throttlingTime_ms = 16;\n    this.throttlingDelta = 0;\n    this.onTick = e => {\n      this.throttlingDelta += e.delta;\n      if (this.throttlingDelta < this.throttlingTime_ms) return;\n      this.hasThrottled = false;\n      this.throttlingDelta %= this.throttlingTime_ms;\n    };\n    this.onDocumentMouseDown = event => {\n      if (this.isDrag) return;\n      if (!this.isContain(event)) return;\n      this.isDrag = true;\n      this.updatePosition(event);\n      this.dispatchDragEvent("drag_start", event);\n    };\n    this.onDocumentMouseMove = event => {\n      if (this.hasThrottled) return;\n      this.hasThrottled = true;\n      this.dispatchDragEvent("move", event);\n      if (!this.isDrag) return;\n      this.dispatchDragEvent("drag", event);\n      this.updatePosition(event);\n    };\n    this.onDocumentMouseLeave = event => {\n      this.onDocumentMouseUp(event);\n    };\n    this.onDocumentMouseUp = event => {\n      if (!this.isDrag) return;\n      this.isDrag = false;\n      this.dispatchDragEvent("drag_end", event);\n    };\n    this.onMouseWheel = e => {\n      const evt = {\n        type: "zoom"\n      };\n      if (e.detail != null) {\n        evt.deltaScroll = e.detail < 0 ? 1 : -1;\n      }\n      if (e.wheelDelta != null) {\n        evt.deltaScroll = e.wheelDelta > 0 ? 1 : -1;\n      }\n      if (e.deltaY != null) {\n        evt.deltaScroll = e.deltaY > 0 ? 1 : -1;\n      }\n      this.dispatchEvent(evt);\n    };\n    (_a = this.throttlingTime_ms) !== null && _a !== void 0 ? _a : this.throttlingTime_ms = option === null || option === void 0 ? void 0 : option.throttlingTime_ms;\n    (_b = this.viewport) !== null && _b !== void 0 ? _b : this.viewport = option === null || option === void 0 ? void 0 : option.viewport;\n    this.canvas = canvas;\n    this.canvas.addEventListener("mousemove", this.onDocumentMouseMove, false);\n    this.canvas.addEventListener("mousedown", this.onDocumentMouseDown, false);\n    this.canvas.addEventListener("mouseup", this.onDocumentMouseUp, false);\n    this.canvas.addEventListener("mouseleave", this.onDocumentMouseLeave, false);\n    this.canvas.addEventListener("wheel", this.onMouseWheel, false);\n    esm/* RAFTicker */.F.on("tick", this.onTick);\n  }\n  updatePosition(event) {\n    this.positionX = event.offsetX;\n    this.positionY = event.offsetY;\n  }\n  dispatchDragEvent(type, event) {\n    const evt = {\n      type\n    };\n    const {\n      x,\n      y\n    } = this.convertToLocalMousePoint(event);\n    evt.positionX = x;\n    evt.positionY = y;\n    if (type === "drag") {\n      evt.deltaX = event.offsetX - this.positionX;\n      evt.deltaY = event.offsetY - this.positionY;\n    }\n    this.dispatchEvent(evt);\n  }\n  convertToLocalMousePoint(e) {\n    if (!this.viewport) {\n      return {\n        x: e.offsetX,\n        y: e.offsetY\n      };\n    } else {\n      const rect = DragWatcher.convertToRect(this.canvas, this.viewport);\n      return {\n        x: e.offsetX - rect.x1,\n        y: e.offsetY - rect.y1\n      };\n    }\n  }\n  /**\n   * マウスポインタがviewport内に収まっているか否か\n   * @param event\n   * @private\n   */\n  isContain(event) {\n    if (!this.viewport) return true;\n    const rect = DragWatcher.convertToRect(this.canvas, this.viewport);\n    return event.offsetX >= rect.x1 && event.offsetX <= rect.x2 && event.offsetY >= rect.y1 && event.offsetY <= rect.y2;\n  }\n  static convertToRect(canvas, viewport) {\n    let height = 0;\n    if (canvas.style.width != null && canvas.style.height) {\n      height = parseInt(canvas.style.height);\n    } else {\n      height = canvas.height / window.devicePixelRatio;\n    }\n    return {\n      x1: viewport.x,\n      x2: viewport.x + viewport.width,\n      y1: height - (viewport.y + viewport.height),\n      y2: height - viewport.y\n    };\n  }\n  dispose() {\n    this.canvas.removeEventListener("mousemove", this.onDocumentMouseMove, false);\n    this.canvas.removeEventListener("mousedown", this.onDocumentMouseDown, false);\n    this.canvas.removeEventListener("mouseup", this.onDocumentMouseUp, false);\n    this.canvas.removeEventListener("mouseleave", this.onDocumentMouseLeave, false);\n    esm/* RAFTicker */.F.off("tick", this.onTick);\n  }\n}\n;// CONCATENATED MODULE: ./esm/index.js\n\n\n\n\n;// CONCATENATED MODULE: ./demoSrc/demo_viewports.js\n\n\n\nconst W = 1280;\nconst H = 640;\nconst onDomContentsLoaded = () => {\n  const canvas = document.getElementById("webgl-canvas");\n  const renderOption = {\n    canvas\n  };\n  const renderer = new three_module/* WebGLRenderer */.CP7(renderOption);\n  renderer.autoClear = false;\n  renderer.setSize(W, H);\n  renderer.setPixelRatio(window.devicePixelRatio);\n  const box = new three_module/* Mesh */.Kj0(new three_module/* TorusKnotGeometry */.FE5(10, 3, 100, 16), new three_module/* MeshPhongMaterial */.xoR({\n    color: 0xff0000,\n    specular: 0xffffff,\n    shininess: 30\n  }));\n  const tri = new three_module/* Mesh */.Kj0(new three_module/* TorusKnotGeometry */.FE5(10, 3, 100, 16), new three_module/* MeshPhongMaterial */.xoR({\n    color: 0x0000ff,\n    specular: 0xffffff,\n    shininess: 30\n  }));\n  const scene1 = new SceneSet(renderer, 20, 20, 400, 300, box, 0x222222);\n  const scene2 = new SceneSet(renderer, 480, 360, 120, 60, tri, 0x444444);\n  const render = () => {\n    renderer.setClearColor(0x000000);\n    renderer.clear();\n    scene1.render(renderer);\n    scene2.render(renderer);\n    requestAnimationFrame(render);\n  };\n  render();\n};\n\n/**\n * DOMContentLoaded以降に初期化処理を実行する\n */\nwindow.onload = onDomContentsLoaded;\nclass SceneSet {\n  scene;\n  camera;\n  bgColor;\n  viewPort;\n  mesh;\n  dragManager;\n  constructor(renderer, x, y, width, height, mesh, bgColor) {\n    this.viewPort = new three_module/* Vector4 */.Ltg(x, y, width, height);\n    this.mesh = mesh;\n    this.scene = new three_module/* Scene */.xsS();\n    this.camera = new three_module/* PerspectiveCamera */.cPb(45, width / height, 1, 10000);\n    this.camera.position.set(0, 0, 64);\n    this.scene.add(this.camera);\n    this.scene.add(mesh);\n    this.bgColor = bgColor;\n\n    //光源オブジェクト(light)の設定\n    const ambientLight = new three_module/* AmbientLight */.Mig(0x111111, 1);\n    this.scene.add(ambientLight);\n    const spot = new three_module/* SpotLight */.PMe(0x888888, 1);\n    spot.position.set(8, 6, -2);\n    this.scene.add(spot);\n    const spot2 = new three_module/* SpotLight */.PMe(0x888888, 1);\n    spot2.position.set(-8, -6, 2);\n    this.scene.add(spot2);\n    this.dragManager = new DragWatcher(renderer.domElement, {\n      viewport: this.viewPort\n    });\n    this.dragManager.addEventListener("drag", e => {\n      console.log(this.bgColor, `throttlingTime_ms : ${this.dragManager.throttlingTime_ms}`, `TimeStamp : ${performance.now()}`, e);\n    });\n    this.dragManager.addEventListener("drag_start", e => {\n      console.log(e);\n    });\n    this.dragManager.addEventListener("drag_end", e => {\n      console.log(e);\n    });\n    this.dragManager.addEventListener("zoom", e => {\n      console.log(e);\n    });\n  }\n  render(renderer) {\n    this.mesh.rotation.x += 0.001;\n    this.mesh.rotation.y += 0.001;\n    renderer.setClearColor(this.bgColor);\n    renderer.clearDepth(); // important!\n    renderer.setScissorTest(true);\n    renderer.setScissor(this.viewPort);\n    renderer.setViewport(this.viewPort);\n    renderer.clear();\n    renderer.render(this.scene, this.camera);\n    renderer.setScissorTest(false);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsQ0FBQztJQUNGLElBQUksQ0FBQzZFLFdBQVcsQ0FBQzFELGdCQUFnQixDQUFDLFVBQVUsRUFBR25CLENBQUMsSUFBSztNQUNuRDBGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDM0YsQ0FBQyxDQUFDO0lBQ2hCLENBQUMsQ0FBQztJQUNGLElBQUksQ0FBQzZFLFdBQVcsQ0FBQzFELGdCQUFnQixDQUFDLE1BQU0sRUFBR25CLENBQUMsSUFBSztNQUMvQzBGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDM0YsQ0FBQyxDQUFDO0lBQ2hCLENBQUMsQ0FBQztFQUNKO0VBRUFtRSxNQUFNQSxDQUFDYixRQUFRLEVBQUU7SUFDZixJQUFJLENBQUNzQixJQUFJLENBQUNrQixRQUFRLENBQUNyRSxDQUFDLElBQUksS0FBSztJQUM3QixJQUFJLENBQUNtRCxJQUFJLENBQUNrQixRQUFRLENBQUNwRSxDQUFDLElBQUksS0FBSztJQUM3QjRCLFFBQVEsQ0FBQ2MsYUFBYSxDQUFDLElBQUksQ0FBQ00sT0FBTyxDQUFDO0lBQ3BDcEIsUUFBUSxDQUFDeUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZCekMsUUFBUSxDQUFDMEMsY0FBYyxDQUFDLElBQUksQ0FBQztJQUU3QjFDLFFBQVEsQ0FBQzJDLFVBQVUsQ0FBQyxJQUFJLENBQUN0QixRQUFRLENBQUM7SUFDbENyQixRQUFRLENBQUM0QyxXQUFXLENBQUMsSUFBSSxDQUFDdkIsUUFBUSxDQUFDO0lBQ25DckIsUUFBUSxDQUFDZSxLQUFLLENBQUMsQ0FBQztJQUVoQmYsUUFBUSxDQUFDYSxNQUFNLENBQUMsSUFBSSxDQUFDSyxLQUFLLEVBQUUsSUFBSSxDQUFDQyxNQUFNLENBQUM7SUFDeENuQixRQUFRLENBQUMwQyxjQUFjLENBQUMsS0FBSyxDQUFDO0VBQ2hDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtZHJhZy13YXRjaGVyLy4vZXNtL0RyYWdXYXRjaGVyLmpzP2Q0YjkiLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWRyYWctd2F0Y2hlci8uL2VzbS9pbmRleC5qcz9iMjM5Iiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1kcmFnLXdhdGNoZXIvLi9kZW1vU3JjL2RlbW9fdmlld3BvcnRzLmpzPzZiMGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkFGVGlja2VyIH0gZnJvbSBcIkBtYXNhdG9tYWtpbm8vcmFmLXRpY2tlclwiO1xuaW1wb3J0IHsgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcInRocmVlXCI7XG4vKipcbiAqIDEu44Kr44Oz44OQ44K55YWo5L2T44GM44OJ44Op44OD44Kw44GV44KM44Gm44GE44KL54q25oWL44KS56K66KqN44GZ44KLXG4gKiAyLuODnuOCpuOCueODm+OCpOODvOODq+OBjOaTjeS9nOOBleOCjOOBpuOBhOOCi+eKtuaFi+OCkueiuuiqjeOBmeOCi1xuICog44GT44Gu5LqM44Gk44KS5a6f6KGM44GZ44KL44Gf44KB44Gu44Kv44Op44K544Gn44GZ44CCXG4gKi9cbmV4cG9ydCBjbGFzcyBEcmFnV2F0Y2hlciBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBvcHRpb24pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc0RyYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNUaHJvdHRsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50aHJvdHRsaW5nVGltZV9tcyA9IDE2O1xuICAgICAgICB0aGlzLnRocm90dGxpbmdEZWx0YSA9IDA7XG4gICAgICAgIHRoaXMub25UaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGhyb3R0bGluZ0RlbHRhICs9IGUuZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy50aHJvdHRsaW5nRGVsdGEgPCB0aGlzLnRocm90dGxpbmdUaW1lX21zKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaGFzVGhyb3R0bGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRocm90dGxpbmdEZWx0YSAlPSB0aGlzLnRocm90dGxpbmdUaW1lX21zO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uRG9jdW1lbnRNb3VzZURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRHJhZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNDb250YWluKGV2ZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzRHJhZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hEcmFnRXZlbnQoXCJkcmFnX3N0YXJ0XCIsIGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbkRvY3VtZW50TW91c2VNb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNUaHJvdHRsZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5oYXNUaHJvdHRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaERyYWdFdmVudChcIm1vdmVcIiwgZXZlbnQpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRHJhZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRHJhZ0V2ZW50KFwiZHJhZ1wiLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbkRvY3VtZW50TW91c2VMZWF2ZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkRvY3VtZW50TW91c2VVcChldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Eb2N1bWVudE1vdXNlVXAgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0RyYWcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc0RyYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hEcmFnRXZlbnQoXCJkcmFnX2VuZFwiLCBldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Nb3VzZVdoZWVsID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV2dCA9IHsgdHlwZTogXCJ6b29tXCIgfTtcbiAgICAgICAgICAgIGlmIChlLmRldGFpbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXZ0LmRlbHRhU2Nyb2xsID0gZS5kZXRhaWwgPCAwID8gMSA6IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUud2hlZWxEZWx0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXZ0LmRlbHRhU2Nyb2xsID0gZS53aGVlbERlbHRhID4gMCA/IDEgOiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLmRlbHRhWSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXZ0LmRlbHRhU2Nyb2xsID0gZS5kZWx0YVkgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICAgIH07XG4gICAgICAgIChfYSA9IHRoaXMudGhyb3R0bGluZ1RpbWVfbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLnRocm90dGxpbmdUaW1lX21zID0gb3B0aW9uID09PSBudWxsIHx8IG9wdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9uLnRocm90dGxpbmdUaW1lX21zKTtcbiAgICAgICAgKF9iID0gdGhpcy52aWV3cG9ydCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKHRoaXMudmlld3BvcnQgPSBvcHRpb24gPT09IG51bGwgfHwgb3B0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb24udmlld3BvcnQpO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbkRvY3VtZW50TW91c2VVcCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZUxlYXZlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCB0aGlzLm9uTW91c2VXaGVlbCwgZmFsc2UpO1xuICAgICAgICBSQUZUaWNrZXIub24oXCJ0aWNrXCIsIHRoaXMub25UaWNrKTtcbiAgICB9XG4gICAgdXBkYXRlUG9zaXRpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvblggPSBldmVudC5vZmZzZXRYO1xuICAgICAgICB0aGlzLnBvc2l0aW9uWSA9IGV2ZW50Lm9mZnNldFk7XG4gICAgfVxuICAgIGRpc3BhdGNoRHJhZ0V2ZW50KHR5cGUsIGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV2dCA9IHsgdHlwZSB9O1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuY29udmVydFRvTG9jYWxNb3VzZVBvaW50KGV2ZW50KTtcbiAgICAgICAgZXZ0LnBvc2l0aW9uWCA9IHg7XG4gICAgICAgIGV2dC5wb3NpdGlvblkgPSB5O1xuICAgICAgICBpZiAodHlwZSA9PT0gXCJkcmFnXCIpIHtcbiAgICAgICAgICAgIGV2dC5kZWx0YVggPSBldmVudC5vZmZzZXRYIC0gdGhpcy5wb3NpdGlvblg7XG4gICAgICAgICAgICBldnQuZGVsdGFZID0gZXZlbnQub2Zmc2V0WSAtIHRoaXMucG9zaXRpb25ZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgIH1cbiAgICBjb252ZXJ0VG9Mb2NhbE1vdXNlUG9pbnQoZSkge1xuICAgICAgICBpZiAoIXRoaXMudmlld3BvcnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogZS5vZmZzZXRYLFxuICAgICAgICAgICAgICAgIHk6IGUub2Zmc2V0WSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZWN0ID0gRHJhZ1dhdGNoZXIuY29udmVydFRvUmVjdCh0aGlzLmNhbnZhcywgdGhpcy52aWV3cG9ydCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IGUub2Zmc2V0WCAtIHJlY3QueDEsXG4gICAgICAgICAgICAgICAgeTogZS5vZmZzZXRZIC0gcmVjdC55MSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog44Oe44Km44K544Od44Kk44Oz44K/44GMdmlld3BvcnTlhoXjgavlj47jgb7jgaPjgabjgYTjgovjgYvlkKbjgYtcbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGlzQ29udGFpbihldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld3BvcnQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgcmVjdCA9IERyYWdXYXRjaGVyLmNvbnZlcnRUb1JlY3QodGhpcy5jYW52YXMsIHRoaXMudmlld3BvcnQpO1xuICAgICAgICByZXR1cm4gKGV2ZW50Lm9mZnNldFggPj0gcmVjdC54MSAmJlxuICAgICAgICAgICAgZXZlbnQub2Zmc2V0WCA8PSByZWN0LngyICYmXG4gICAgICAgICAgICBldmVudC5vZmZzZXRZID49IHJlY3QueTEgJiZcbiAgICAgICAgICAgIGV2ZW50Lm9mZnNldFkgPD0gcmVjdC55Mik7XG4gICAgfVxuICAgIHN0YXRpYyBjb252ZXJ0VG9SZWN0KGNhbnZhcywgdmlld3BvcnQpIHtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGlmIChjYW52YXMuc3R5bGUud2lkdGggIT0gbnVsbCAmJiBjYW52YXMuc3R5bGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJzZUludChjYW52YXMuc3R5bGUuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQgLyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDE6IHZpZXdwb3J0LngsXG4gICAgICAgICAgICB4Mjogdmlld3BvcnQueCArIHZpZXdwb3J0LndpZHRoLFxuICAgICAgICAgICAgeTE6IGhlaWdodCAtICh2aWV3cG9ydC55ICsgdmlld3BvcnQuaGVpZ2h0KSxcbiAgICAgICAgICAgIHkyOiBoZWlnaHQgLSB2aWV3cG9ydC55LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Eb2N1bWVudE1vdXNlTW92ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Eb2N1bWVudE1vdXNlRG93biwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZVVwLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMub25Eb2N1bWVudE1vdXNlTGVhdmUsIGZhbHNlKTtcbiAgICAgICAgUkFGVGlja2VyLm9mZihcInRpY2tcIiwgdGhpcy5vblRpY2spO1xuICAgIH1cbn1cbiIsImV4cG9ydCAqIGZyb20gXCIuL0RyYWdFdmVudFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vRHJhZ1dhdGNoZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL1NsZWVwRXZlbnRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL1NsZWVwV2F0Y2hlclwiO1xuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBEcmFnV2F0Y2hlciB9IGZyb20gXCIuLi9cIjtcbmltcG9ydCB7IFRvcnVzS25vdEdlb21ldHJ5LCBNZXNoLCBNZXNoUGhvbmdNYXRlcmlhbCB9IGZyb20gXCJ0aHJlZVwiO1xuXG5jb25zdCBXID0gMTI4MDtcbmNvbnN0IEggPSA2NDA7XG5cbmNvbnN0IG9uRG9tQ29udGVudHNMb2FkZWQgPSAoKSA9PiB7XG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2ViZ2wtY2FudmFzXCIpO1xuICBjb25zdCByZW5kZXJPcHRpb24gPSB7XG4gICAgY2FudmFzLFxuICB9O1xuICBjb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHJlbmRlck9wdGlvbik7XG4gIHJlbmRlcmVyLmF1dG9DbGVhciA9IGZhbHNlO1xuICByZW5kZXJlci5zZXRTaXplKFcsIEgpO1xuICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcblxuICBjb25zdCBib3ggPSBuZXcgTWVzaChcbiAgICBuZXcgVG9ydXNLbm90R2VvbWV0cnkoMTAsIDMsIDEwMCwgMTYpLFxuICAgIG5ldyBNZXNoUGhvbmdNYXRlcmlhbCh7XG4gICAgICBjb2xvcjogMHhmZjAwMDAsXG4gICAgICBzcGVjdWxhcjogMHhmZmZmZmYsXG4gICAgICBzaGluaW5lc3M6IDMwLFxuICAgIH0pXG4gICk7XG4gIGNvbnN0IHRyaSA9IG5ldyBNZXNoKFxuICAgIG5ldyBUb3J1c0tub3RHZW9tZXRyeSgxMCwgMywgMTAwLCAxNiksXG4gICAgbmV3IE1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiAweDAwMDBmZixcbiAgICAgIHNwZWN1bGFyOiAweGZmZmZmZixcbiAgICAgIHNoaW5pbmVzczogMzAsXG4gICAgfSlcbiAgKTtcbiAgY29uc3Qgc2NlbmUxID0gbmV3IFNjZW5lU2V0KHJlbmRlcmVyLCAyMCwgMjAsIDQwMCwgMzAwLCBib3gsIDB4MjIyMjIyKTtcbiAgY29uc3Qgc2NlbmUyID0gbmV3IFNjZW5lU2V0KHJlbmRlcmVyLCA0ODAsIDM2MCwgMTIwLCA2MCwgdHJpLCAweDQ0NDQ0NCk7XG5cbiAgY29uc3QgcmVuZGVyID0gKCkgPT4ge1xuICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwMDAwMDApO1xuICAgIHJlbmRlcmVyLmNsZWFyKCk7XG5cbiAgICBzY2VuZTEucmVuZGVyKHJlbmRlcmVyKTtcbiAgICBzY2VuZTIucmVuZGVyKHJlbmRlcmVyKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgfTtcbiAgcmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIERPTUNvbnRlbnRMb2FkZWTku6XpmY3jgavliJ3mnJ/ljJblh6bnkIbjgpLlrp/ooYzjgZnjgotcbiAqL1xud2luZG93Lm9ubG9hZCA9IG9uRG9tQ29udGVudHNMb2FkZWQ7XG5cbmNsYXNzIFNjZW5lU2V0IHtcbiAgc2NlbmU7XG4gIGNhbWVyYTtcbiAgYmdDb2xvcjtcbiAgdmlld1BvcnQ7XG4gIG1lc2g7XG5cbiAgZHJhZ01hbmFnZXI7XG5cbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIHgsIHksIHdpZHRoLCBoZWlnaHQsIG1lc2gsIGJnQ29sb3IpIHtcbiAgICB0aGlzLnZpZXdQb3J0ID0gbmV3IFRIUkVFLlZlY3RvcjQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgdGhpcy5tZXNoID0gbWVzaDtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2lkdGggLyBoZWlnaHQsIDEsIDEwMDAwKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgNjQpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuY2FtZXJhKTtcbiAgICB0aGlzLnNjZW5lLmFkZChtZXNoKTtcbiAgICB0aGlzLmJnQ29sb3IgPSBiZ0NvbG9yO1xuXG4gICAgLy/lhYnmupDjgqrjg5bjgrjjgqfjgq/jg4gobGlnaHQp44Gu6Kit5a6aXG4gICAgY29uc3QgYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweDExMTExMSwgMSk7XG4gICAgdGhpcy5zY2VuZS5hZGQoYW1iaWVudExpZ2h0KTtcblxuICAgIGNvbnN0IHNwb3QgPSBuZXcgVEhSRUUuU3BvdExpZ2h0KDB4ODg4ODg4LCAxKTtcbiAgICBzcG90LnBvc2l0aW9uLnNldCg4LCA2LCAtMik7XG4gICAgdGhpcy5zY2VuZS5hZGQoc3BvdCk7XG5cbiAgICBjb25zdCBzcG90MiA9IG5ldyBUSFJFRS5TcG90TGlnaHQoMHg4ODg4ODgsIDEpO1xuICAgIHNwb3QyLnBvc2l0aW9uLnNldCgtOCwgLTYsIDIpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHNwb3QyKTtcblxuICAgIHRoaXMuZHJhZ01hbmFnZXIgPSBuZXcgRHJhZ1dhdGNoZXIocmVuZGVyZXIuZG9tRWxlbWVudCwge1xuICAgICAgdmlld3BvcnQ6IHRoaXMudmlld1BvcnQsXG4gICAgfSk7XG4gICAgdGhpcy5kcmFnTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ1wiLCAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIHRoaXMuYmdDb2xvcixcbiAgICAgICAgYHRocm90dGxpbmdUaW1lX21zIDogJHt0aGlzLmRyYWdNYW5hZ2VyLnRocm90dGxpbmdUaW1lX21zfWAsXG4gICAgICAgIGBUaW1lU3RhbXAgOiAke3BlcmZvcm1hbmNlLm5vdygpfWAsXG4gICAgICAgIGVcbiAgICAgICk7XG4gICAgfSk7XG4gICAgdGhpcy5kcmFnTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ19zdGFydFwiLCAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgfSk7XG4gICAgdGhpcy5kcmFnTWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ19lbmRcIiwgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuZHJhZ01hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcInpvb21cIiwgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5tZXNoLnJvdGF0aW9uLnggKz0gMC4wMDE7XG4gICAgdGhpcy5tZXNoLnJvdGF0aW9uLnkgKz0gMC4wMDE7XG4gICAgcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLmJnQ29sb3IpO1xuICAgIHJlbmRlcmVyLmNsZWFyRGVwdGgoKTsgLy8gaW1wb3J0YW50IVxuICAgIHJlbmRlcmVyLnNldFNjaXNzb3JUZXN0KHRydWUpO1xuXG4gICAgcmVuZGVyZXIuc2V0U2Npc3Nvcih0aGlzLnZpZXdQb3J0KTtcbiAgICByZW5kZXJlci5zZXRWaWV3cG9ydCh0aGlzLnZpZXdQb3J0KTtcbiAgICByZW5kZXJlci5jbGVhcigpO1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICByZW5kZXJlci5zZXRTY2lzc29yVGVzdChmYWxzZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJSQUZUaWNrZXIiLCJFdmVudERpc3BhdGNoZXIiLCJEcmFnV2F0Y2hlciIsImNvbnN0cnVjdG9yIiwiY2FudmFzIiwib3B0aW9uIiwiX2EiLCJfYiIsImlzRHJhZyIsImhhc1Rocm90dGxlZCIsInRocm90dGxpbmdUaW1lX21zIiwidGhyb3R0bGluZ0RlbHRhIiwib25UaWNrIiwiZSIsImRlbHRhIiwib25Eb2N1bWVudE1vdXNlRG93biIsImV2ZW50IiwiaXNDb250YWluIiwidXBkYXRlUG9zaXRpb24iLCJkaXNwYXRjaERyYWdFdmVudCIsIm9uRG9jdW1lbnRNb3VzZU1vdmUiLCJvbkRvY3VtZW50TW91c2VMZWF2ZSIsIm9uRG9jdW1lbnRNb3VzZVVwIiwib25Nb3VzZVdoZWVsIiwiZXZ0IiwidHlwZSIsImRldGFpbCIsImRlbHRhU2Nyb2xsIiwid2hlZWxEZWx0YSIsImRlbHRhWSIsImRpc3BhdGNoRXZlbnQiLCJ2aWV3cG9ydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbiIsInBvc2l0aW9uWCIsIm9mZnNldFgiLCJwb3NpdGlvblkiLCJvZmZzZXRZIiwieCIsInkiLCJjb252ZXJ0VG9Mb2NhbE1vdXNlUG9pbnQiLCJkZWx0YVgiLCJyZWN0IiwiY29udmVydFRvUmVjdCIsIngxIiwieTEiLCJ4MiIsInkyIiwiaGVpZ2h0Iiwic3R5bGUiLCJ3aWR0aCIsInBhcnNlSW50Iiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImRpc3Bvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib2ZmIiwiVEhSRUUiLCJUb3J1c0tub3RHZW9tZXRyeSIsIk1lc2giLCJNZXNoUGhvbmdNYXRlcmlhbCIsIlciLCJIIiwib25Eb21Db250ZW50c0xvYWRlZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXJPcHRpb24iLCJyZW5kZXJlciIsIldlYkdMUmVuZGVyZXIiLCJhdXRvQ2xlYXIiLCJzZXRTaXplIiwic2V0UGl4ZWxSYXRpbyIsImJveCIsImNvbG9yIiwic3BlY3VsYXIiLCJzaGluaW5lc3MiLCJ0cmkiLCJzY2VuZTEiLCJTY2VuZVNldCIsInNjZW5lMiIsInJlbmRlciIsInNldENsZWFyQ29sb3IiLCJjbGVhciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9ubG9hZCIsInNjZW5lIiwiY2FtZXJhIiwiYmdDb2xvciIsInZpZXdQb3J0IiwibWVzaCIsImRyYWdNYW5hZ2VyIiwiVmVjdG9yNCIsIlNjZW5lIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJwb3NpdGlvbiIsInNldCIsImFkZCIsImFtYmllbnRMaWdodCIsIkFtYmllbnRMaWdodCIsInNwb3QiLCJTcG90TGlnaHQiLCJzcG90MiIsImRvbUVsZW1lbnQiLCJjb25zb2xlIiwibG9nIiwicGVyZm9ybWFuY2UiLCJub3ciLCJyb3RhdGlvbiIsImNsZWFyRGVwdGgiLCJzZXRTY2lzc29yVGVzdCIsInNldFNjaXNzb3IiLCJzZXRWaWV3cG9ydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///230\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](F,F.exports,__webpack_require__),F.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(Q,U,F,B)=>{if(!U){var s=1/0;for(C=0;C<deferred.length;C++){for(var[U,F,B]=deferred[C],I=!0,e=0;e<U.length;e++)(!1&B||s>=B)&&Object.keys(__webpack_require__.O).every((Q=>__webpack_require__.O[Q](U[e])))?U.splice(e--,1):(I=!1,B<s&&(s=B));if(I){deferred.splice(C--,1);var g=F();void 0!==g&&(Q=g)}}return Q}B=B||0;for(var C=deferred.length;C>0&&deferred[C-1][2]>B;C--)deferred[C]=deferred[C-1];deferred[C]=[U,F,B]},__webpack_require__.d=(Q,U)=>{for(var F in U)__webpack_require__.o(U,F)&&!__webpack_require__.o(Q,F)&&Object.defineProperty(Q,F,{enumerable:!0,get:U[F]})},__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U),__webpack_require__.j=212,(()=>{var Q={212:0};__webpack_require__.O.j=U=>0===Q[U];var U=(U,F)=>{var B,s,[I,e,g]=F,C=0;if(I.some((U=>0!==Q[U]))){for(B in e)__webpack_require__.o(e,B)&&(__webpack_require__.m[B]=e[B]);if(g)var n=g(__webpack_require__)}for(U&&U(F);C<I.length;C++)s=I[C],__webpack_require__.o(Q,s)&&Q[s]&&Q[s][0](),Q[s]=0;return __webpack_require__.O(n)},F=self.webpackChunk_masatomakino_threejs_drag_watcher=self.webpackChunk_masatomakino_threejs_drag_watcher||[];F.forEach(U.bind(null,0)),F.push=U.bind(null,F.push.bind(F))})();var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(230)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();